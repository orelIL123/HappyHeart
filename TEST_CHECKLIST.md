# ✅ רשימת בדיקות לפני פרסום - שמחת הלב

## 🔐 בדיקות אבטחה (Security Rules)

### 1. בדיקת Firestore Rules

#### משתמש לא מחובר:
- [ ] לא יכול לראות `users` collection
- [ ] לא יכול לראות `activities` collection
- [ ] לא יכול ליצור פעילות
- [ ] **יכול** להירשם (create ב-`pending_clowns` או `users`)

#### משתמש ממתין לאישור (pending):
- [ ] לא יכול לראות פעילויות
- [ ] לא יכול לגשת ל-app content
- [ ] רואה מסך "ממתין לאישור"

#### ליצן מאושר (approved clown):
- [ ] **יכול** לראות את כל הפעילויות
- [ ] **יכול** להצטרף לפעילויות (update participants)
- [ ] **יכול** לעדכן את הפרופיל שלו
- [ ] **לא יכול** ליצור פעילויות חדשות
- [ ] **לא יכול** לערוך פרופילים של אחרים

#### מארגן (organizer):
- [ ] **יכול** לעשות כל מה שליצן יכול
- [ ] **יכול** ליצור פעילויות חדשות
- [ ] **יכול** לערוך פעילויות שיצר
- [ ] **יכול** למחוק פעילויות
- [ ] **לא יכול** לאשר ליצנים חדשים

#### אדמין (admin):
- [ ] **יכול** לעשות הכל
- [ ] **יכול** לראות `pending_clowns`
- [ ] **יכול** לאשר/לדחות ליצנים
- [ ] **יכול** לערוך משתמשים אחרים
- [ ] **יכול** ליצור/לערוך/למחוק פעילויות

---

## 🔐 בדיקות Storage Rules

#### תמונות פרופיל (`profile_images/`):
- [ ] משתמש יכול להעלות תמונה שלו בלבד
- [ ] כל המשתמשים המאושרים יכולים לראות תמונות
- [ ] לא ניתן להעלות תמונה של משתמש אחר

#### תעודות ליצן (`certifications/`):
- [ ] משתמש שנרשם יכול להעלות תעודה
- [ ] רק אדמין יכול לראות תעודות
- [ ] אחרי אישור, הליצן לא צריך גישה לתעודה

---

## 📱 בדיקות פונקציונליות

### הרשמה והתחברות

#### הרשמת ליצן חדש:
1. [ ] מלא טופס הרשמה (שם, טלפון, סיסמה, מיקום)
2. [ ] העלה תעודת ליצן (תמונה או PDF)
3. [ ] לחץ "שלח בקשת הצטרפות"
4. [ ] ודא שהמשתמש נוצר ב-Firebase Auth
5. [ ] ודא שהמשתמש נכנס אוטומטית (לא צריך approval עוד)

#### התחברות:
1. [ ] התחבר עם מספר טלפון + סיסמה
2. [ ] התחבר עם אימייל + סיסמה (פורמט: `0501234567@happyhart.app`)
3. [ ] ודא שמסך הבית נטען
4. [ ] ודא שפעילויות מופיעות

#### התנתקות:
1. [ ] לחץ על "התנתק" בתפריט
2. [ ] ודא שחוזר למסך התחברות
3. [ ] ודא שלא ניתן לגשת לנתונים

---

### ניהול פעילויות

#### יצירת פעילות (מארגן/אדמין):
1. [ ] לחץ על "יצירת פעילות"
2. [ ] מלא פרטים: מיקום, מוסד, תאריך, שעה, אוכלוסייה
3. [ ] הוסף מתאם + טלפון
4. [ ] בחר רמת עוצמה (נמוכה/בינונית/גבוהה)
5. [ ] סמן "דחוף" אם רלוונטי
6. [ ] ודא שהפעילות נוצרה ב-Firebase
7. [ ] ודא שליצנים קרובים קיבלו התראה

#### הצטרפות לפעילות (ליצן):
1. [ ] ראה רשימת פעילויות
2. [ ] לחץ על פעילות
3. [ ] לחץ "הצטרף"
4. [ ] ודא שהשם שלך מופיע ברשימת המשתתפים
5. [ ] ודא שהמונה עודכן

#### עזיבת פעילות:
1. [ ] לחץ "בטל השתתפות"
2. [ ] ודא שהשם הוסר מהרשימה
3. [ ] ודא שהמונה עודכן

#### מחיקה אוטומטית:
1. [ ] צור פעילות שמסתיימת מחר
2. [ ] ודא שיש תאריך תפוגה (24 שעות אחרי סוף)
3. [ ] המתן 24 שעות אחרי הסוף
4. [ ] ודא שהפעילות נמחקה אוטומטית

---

### ניהול פרופיל

#### עדכון פרטים אישיים:
1. [ ] לחץ על "הפרופיל שלי"
2. [ ] ערוך שם, טלפון, ביוגרפיה
3. [ ] שמור שינויים
4. [ ] ודא שהעדכון נשמר ב-Firebase

#### העלאת תמונת פרופיל:
1. [ ] לחץ על תמונת הפרופיל
2. [ ] בחר תמונה מהגלריה
3. [ ] ודא שהתמונה עלתה ל-Storage
4. [ ] ודא שהתמונה מוצגת בפרופיל

---

### התראות (Notifications)

#### התראות חדשות:
1. [ ] צור פעילות דחופה באזור קרוב
2. [ ] ודא שליצנים באזור קיבלו התראה
3. [ ] ודא שההתראה מכילה פרטים נכונים

#### הגדרות התראות:
1. [ ] כבה התראות בהגדרות
2. [ ] צור פעילות חדשה
3. [ ] ודא שלא התקבלה התראה

---

## 🤖 בדיקות אנדרואיד ספציפיות

### תצוגה:
- [ ] כפתורים לא חתוכים
- [ ] טקסט מיושר מימין (RTL)
- [ ] Shadows נראים טוב
- [ ] Navigation bar לא חוסם תוכן
- [ ] Status bar צבע נכון

### מכשירים לבדיקה:
- [ ] Samsung (One UI) - Android 13+
- [ ] Google Pixel - Android 14
- [ ] Xiaomi (MIUI) - Android 12+
- [ ] מסכים קטנים (5.5")
- [ ] מסכים גדולים (6.7"+)

### פונקציונליות:
- [ ] מצלמה עובדת להעלאת תמונות
- [ ] גלריה עובדת לבחירת תמונות
- [ ] קבצים (PDF) נפתחים
- [ ] התראות מגיעות
- [ ] Keyboard לא חוסם שדות

---

## 🍎 בדיקות iOS ספציפיות

### תצוגה:
- [ ] Safe Area מכובד (notch)
- [ ] Status bar צבע נכון
- [ ] Tab bar לא חוסם תוכן

### פונקציונליות:
- [ ] Camera permissions
- [ ] Photos permissions
- [ ] Notifications permissions
- [ ] Keyboard נפתח/נסגר חלק

---

## 🌐 בדיקות OTA Updates

1. [ ] פרסם build ל-Preview channel
2. [ ] פתח את האפליקציה
3. [ ] ודא שהאפליקציה בודקת עדכונים
4. [ ] פרסם update חדש: `npm run update:preview "בדיקה"`
5. [ ] המתן 30 שניות
6. [ ] ודא שהאפליקציה מוצאת את העדכון
7. [ ] באנדרואיד - ודא שעדכון מתבצע אוטומטית
8. [ ] ב-iOS - ודא שמופיעה התראה

---

## 📊 ביצועים (Performance)

- [ ] זמן טעינה ראשוני < 3 שניות
- [ ] Real-time updates מגיעים תוך שנייה
- [ ] תמונות נטענות במהירות
- [ ] אין lag בגלילה
- [ ] אין memory leaks (השאר אפליקציה פתוחה 30 דקות)

---

## 🐛 בדיקות שגיאות

### חיבור אינטרנט:
1. [ ] נתק אינטרנט
2. [ ] נסה לטעון פעילויות
3. [ ] ודא שמופיעה הודעת שגיאה ברורה
4. [ ] חבר אינטרנט שוב
5. [ ] ודא שהאפליקציה מתחברת אוטומטית

### סיסמה שגויה:
1. [ ] נסה להתחבר עם סיסמה שגויה
2. [ ] ודא שמופיעה הודעה: "שם משתמש או סיסמה שגויים"

### שדות חסרים:
1. [ ] נסה ליצור פעילות ללא מילוי שדות חובה
2. [ ] ודא שמופיעה הודעה: "אנא מלא את כל שדות החובה"

---

## ✅ צ'קליסט סופי לפני פרסום

- [ ] כל הבדיקות למעלה עברו בהצלחה
- [ ] Firebase Rules נפרסו: `firebase deploy --only firestore:rules,storage`
- [ ] אין שגיאות בקונסול
- [ ] גרסה עודכנה ב-`app.json`
- [ ] צילומי מסך עודכנו
- [ ] Privacy Policy זמין
- [ ] יש גיבוי של Firebase
- [ ] נבדק על מכשירים אמיתיים (לא רק אמולטור)

---

**אם כל הבדיקות עברו - אפשר לפרסם! 🚀**

God bless! 🙏
